docker run --rm -it -v $(pwd):/io quay.io/pypa/manylinux2014_x86_64 /bin/bash

yum install -y gcc python3-devel openssl-devel bzip2-devel libffi-devel zlib-devel wget -y


yum update -y
yum groupinstall "Development Tools" -y
yum install openssl-devel bzip2-devel libffi-devel zlib-devel wget -y
cd /usr/src
wget https://www.python.org/ftp/python/3.12.0/Python-3.12.0.tgz
tar xzf Python-3.12.0.tgz
cd Python-3.12.0
./configure --enable-optimizations --with-openssl=/usr/include/openssl --with-lto --with-computed-gotos --with-system-expat --with-system-ffi
make altinstall

ln -sf /usr/local/bin/python3.12 /usr/bin/python3

python3.12 -m ensurepip --upgrade
python3.12 -m pip install --upgrade pip
python3.12 -m pip install wheel auditwheel Cython


cd io
python3.12 setup.py bdist_wheel
auditwheel repair dist/lucit_ubdcc_mgmt-0.0.5-cp312-cp312m-linux_x86_64.whl

